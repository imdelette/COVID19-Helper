{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useInitProps = useInitProps;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _computedWithAutoFillData = require(\"../utils/computedWithAutoFillData\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction useInitProps(props) {\n  var _props$enableSnap;\n\n  var _props$defaultIndex = props.defaultIndex,\n      defaultIndex = _props$defaultIndex === void 0 ? 0 : _props$defaultIndex,\n      _props$data = props.data,\n      rawData = _props$data === void 0 ? [] : _props$data,\n      _props$loop = props.loop,\n      loop = _props$loop === void 0 ? true : _props$loop,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled,\n      _props$autoPlayInterv = props.autoPlayInterval,\n      _autoPlayInterval = _props$autoPlayInterv === void 0 ? 1000 : _props$autoPlayInterv,\n      _props$scrollAnimatio = props.scrollAnimationDuration,\n      scrollAnimationDuration = _props$scrollAnimatio === void 0 ? 500 : _props$scrollAnimatio,\n      _props$style = props.style,\n      style = _props$style === void 0 ? {} : _props$style,\n      _props$panGestureHand = props.panGestureHandlerProps,\n      panGestureHandlerProps = _props$panGestureHand === void 0 ? {} : _props$panGestureHand,\n      _props$pagingEnabled = props.pagingEnabled,\n      pagingEnabled = _props$pagingEnabled === void 0 ? true : _props$pagingEnabled,\n      _props$autoFillData = props.autoFillData,\n      autoFillData = _props$autoFillData === void 0 ? true : _props$autoFillData,\n      _props$snapEnabled = props.snapEnabled,\n      snapEnabled = _props$snapEnabled === void 0 ? (_props$enableSnap = props.enableSnap) != null ? _props$enableSnap : true : _props$snapEnabled,\n      _width = props.width,\n      _height = props.height;\n\n  var width = Math.round(_width || 0);\n  var height = Math.round(_height || 0);\n  var autoPlayInterval = Math.max(_autoPlayInterval, 0);\n\n  var data = _react.default.useMemo(function () {\n    return (0, _computedWithAutoFillData.computedFillDataWithAutoFillData)({\n      loop: loop,\n      autoFillData: autoFillData,\n      data: rawData,\n      dataLength: rawData.length\n    });\n  }, [rawData, loop, autoFillData]);\n\n  if (props.mode === 'vertical-stack' || props.mode === 'horizontal-stack') {\n    var _props$modeConfig$sho, _props$modeConfig;\n\n    if (!props.modeConfig) {\n      props.modeConfig = {};\n    }\n\n    props.modeConfig.showLength = (_props$modeConfig$sho = (_props$modeConfig = props.modeConfig) == null ? void 0 : _props$modeConfig.showLength) != null ? _props$modeConfig$sho : data.length - 1;\n  }\n\n  return _objectSpread(_objectSpread({}, props), {}, {\n    defaultIndex: defaultIndex,\n    autoFillData: autoFillData,\n    data: data,\n    rawData: rawData,\n    loop: loop,\n    enabled: enabled,\n    autoPlayInterval: autoPlayInterval,\n    scrollAnimationDuration: scrollAnimationDuration,\n    style: style,\n    panGestureHandlerProps: panGestureHandlerProps,\n    pagingEnabled: pagingEnabled,\n    snapEnabled: snapEnabled,\n    width: width,\n    height: height\n  });\n}","map":{"version":3,"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBO;;AAAA,SAASA,YAAT,CACHC,KADG,EAEwB;EAAA;;EAC3B,0BAcIA,KAdJ,CACIC,YADJ;EAAA,IACIA,YADJ,oCACmB,CADnB;EAAA,kBAcID,KAdJ,CAEIE,IAFJ;EAAA,IAEUC,OAFV,4BAEoB,EAFpB;EAAA,kBAcIH,KAdJ,CAGII,IAHJ;EAAA,IAGIA,IAHJ,4BAGW,IAHX;EAAA,qBAcIJ,KAdJ,CAIIK,OAJJ;EAAA,IAIIA,OAJJ,+BAIc,IAJd;EAAA,4BAcIL,KAdJ,CAKIM,gBALJ;EAAA,IAKsBC,iBALtB,sCAK0C,IAL1C;EAAA,4BAcIP,KAdJ,CAMIQ,uBANJ;EAAA,IAMIA,uBANJ,sCAM8B,GAN9B;EAAA,mBAcIR,KAdJ,CAOIS,KAPJ;EAAA,IAOIA,KAPJ,6BAOY,EAPZ;EAAA,4BAcIT,KAdJ,CAQIU,sBARJ;EAAA,IAQIA,sBARJ,sCAQ6B,EAR7B;EAAA,2BAcIV,KAdJ,CASIW,aATJ;EAAA,IASIA,aATJ,qCASoB,IATpB;EAAA,0BAcIX,KAdJ,CAUIY,YAVJ;EAAA,IAUIA,YAVJ,oCAUmB,IAVnB;EAAA,yBAcIZ,KAdJ,CAWIa,WAXJ;EAAA,IAWIA,WAXJ,wDAWkBb,KAAK,CAACc,UAXxB,gCAWsC,IAXtC;EAAA,IAYWC,MAZX,GAcIf,KAdJ,CAYIgB,KAZJ;EAAA,IAaYC,OAbZ,GAcIjB,KAdJ,CAaIkB,MAbJ;;EAgBA,IAAMF,KAAK,GAAGG,IAAI,CAACC,KAALD,CAAWJ,MAAM,IAAI,CAArBI,CAAd;EACA,IAAMD,MAAM,GAAGC,IAAI,CAACC,KAALD,CAAWF,OAAO,IAAI,CAAtBE,CAAf;EACA,IAAMb,gBAAgB,GAAGa,IAAI,CAACE,GAALF,CAASZ,iBAATY,EAA4B,CAA5BA,CAAzB;;EAEA,IAAMjB,IAAI,GAAGoB,eAAMC,OAAND,CACT;IAAA,OACI,gEAAoC;MAChClB,IAAI,EAAJA,IADgC;MAEhCQ,YAAY,EAAZA,YAFgC;MAGhCV,IAAI,EAAEC,OAH0B;MAIhCqB,UAAU,EAAErB,OAAO,CAACsB;IAJY,CAApC,CADJ;EADS,GAQT,CAACtB,OAAD,EAAUC,IAAV,EAAgBQ,YAAhB,CARSU,CAAb;;EAWA,IAAItB,KAAK,CAAC0B,IAAN1B,KAAe,gBAAfA,IAAmCA,KAAK,CAAC0B,IAAN1B,KAAe,kBAAtD,EAA0E;IAAA;;IACtE,IAAI,CAACA,KAAK,CAAC2B,UAAX,EAAuB;MACnB3B,KAAK,CAAC2B,UAAN3B,GAAmB,EAAnBA;IAEJA;;IAAAA,KAAK,CAAC2B,UAAN3B,CAAiB4B,UAAjB5B,iDACIA,KAAK,CAAC2B,UADV,qBACIE,kBAAkBD,UADtB,oCACoC1B,IAAI,CAACuB,MAALvB,GAAc,CADlDF;EAGJ;;EAAA,uCACOA,KADP;IAEIC,YAAY,EAAZA,YAFJ;IAGIW,YAAY,EAAZA,YAHJ;IAIIV,IAAI,EAAJA,IAJJ;IAKIC,OAAO,EAAPA,OALJ;IAMIC,IAAI,EAAJA,IANJ;IAOIC,OAAO,EAAPA,OAPJ;IAQIC,gBAAgB,EAAhBA,gBARJ;IASIE,uBAAuB,EAAvBA,uBATJ;IAUIC,KAAK,EAALA,KAVJ;IAWIC,sBAAsB,EAAtBA,sBAXJ;IAYIC,aAAa,EAAbA,aAZJ;IAaIE,WAAW,EAAXA,WAbJ;IAcIG,KAAK,EAALA,KAdJ;IAeIE,MAAM,EAANA;EAfJ;AAiBH","names":["useInitProps","props","defaultIndex","data","rawData","loop","enabled","autoPlayInterval","_autoPlayInterval","scrollAnimationDuration","style","panGestureHandlerProps","pagingEnabled","autoFillData","snapEnabled","enableSnap","_width","width","_height","height","Math","round","max","React","useMemo","dataLength","length","mode","modeConfig","showLength","_props$modeConfig"],"sources":["useInitProps.ts"],"sourcesContent":["import { computedFillDataWithAutoFillData } from '@/utils/computedWithAutoFillData';\nimport React from 'react';\nimport type { TCarouselProps } from '../types';\n\ntype TGetRequiredProps<P extends keyof TCarouselProps> = Record<\n    P,\n    Required<TCarouselProps>[P]\n>;\n\nexport type TInitializeCarouselProps<T> = TCarouselProps<T> &\n    TGetRequiredProps<\n        | 'defaultIndex'\n        | 'loop'\n        | 'width'\n        | 'height'\n        | 'scrollAnimationDuration'\n        | 'autoPlayInterval'\n        | 'autoFillData'\n    > & {\n        // Raw data that has not been processed\n        rawData: T[];\n    };\n\nexport function useInitProps<T>(\n    props: TCarouselProps<T>\n): TInitializeCarouselProps<T> {\n    const {\n        defaultIndex = 0,\n        data: rawData = [],\n        loop = true,\n        enabled = true,\n        autoPlayInterval: _autoPlayInterval = 1000,\n        scrollAnimationDuration = 500,\n        style = {},\n        panGestureHandlerProps = {},\n        pagingEnabled = true,\n        autoFillData = true,\n        snapEnabled = props.enableSnap ?? true,\n        width: _width,\n        height: _height,\n    } = props;\n\n    const width = Math.round(_width || 0);\n    const height = Math.round(_height || 0);\n    const autoPlayInterval = Math.max(_autoPlayInterval, 0);\n\n    const data = React.useMemo<T[]>(\n        () =>\n            computedFillDataWithAutoFillData<T>({\n                loop,\n                autoFillData,\n                data: rawData,\n                dataLength: rawData.length,\n            }),\n        [rawData, loop, autoFillData]\n    );\n\n    if (props.mode === 'vertical-stack' || props.mode === 'horizontal-stack') {\n        if (!props.modeConfig) {\n            props.modeConfig = {};\n        }\n        props.modeConfig.showLength =\n            props.modeConfig?.showLength ?? data.length - 1;\n    }\n    return {\n        ...props,\n        defaultIndex,\n        autoFillData,\n        data,\n        rawData,\n        loop,\n        enabled,\n        autoPlayInterval,\n        scrollAnimationDuration,\n        style,\n        panGestureHandlerProps,\n        pagingEnabled,\n        snapEnabled,\n        width,\n        height,\n    };\n}\n"]},"metadata":{},"sourceType":"script"}